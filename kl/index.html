<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MarketPlace - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header hidden" id="header">
        <div class="logo">üõçÔ∏è MarketPlace</div>
        <nav class="nav">
            <button class="nav-btn active" onclick="showSection('dashboard')">–ì–ª–∞–≤–Ω–∞—è</button>
            <button class="nav-btn" onclick="showSection('products')">–¢–æ–≤–∞—Ä—ã</button>
            <button class="nav-btn" onclick="showSection('purchases')">–ú–æ–∏ –ø–æ–∫—É–ø–∫–∏</button>
            <button class="nav-btn" onclick="showSection('profile')">–ü—Ä–æ—Ñ–∏–ª—å</button>
            <button class="nav-btn" id="adminBtn" onclick="showSection('admin')" style="display: none;">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</button>
        </nav>
        <div class="user-info">
            <span id="userWelcome"></span>
            <span class="role-badge" id="userRole"></span>
            <button class="btn" onclick="logout()">–í—ã–π—Ç–∏</button>
        </div>
    </header>

    <!-- Auth Section -->
    <div class="container" id="authContainer">
        <div class="auth-container">
            <div class="auth-box">
                <div class="auth-toggle">
                    <button class="toggle-btn active" onclick="showAuthForm('login')">–í—Ö–æ–¥</button>
                    <button class="toggle-btn" onclick="showAuthForm('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                </div>

                <!-- Login Form -->
                <form id="loginForm" onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label class="form-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                        <input type="text" class="form-input" id="loginUsername" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ü–∞—Ä–æ–ª—å</label>
                        <input type="password" class="form-input" id="loginPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary">–í–æ–π—Ç–∏</button>
                </form>

                <!-- Register Form -->
                <form id="registerForm" class="hidden" onsubmit="handleRegister(event)">
                    <div class="form-group">
                        <label class="form-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                        <input type="text" class="form-input" id="regUsername" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ü–æ–ª–Ω–æ–µ –∏–º—è</label>
                        <input type="text" class="form-input" id="regFullName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ü–∞—Ä–æ–ª—å</label>
                        <input type="password" class="form-input" id="regPassword" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–†–æ–ª—å</label>
                        <select class="form-select" id="regRole">
                            <option value="client">–ö–ª–∏–µ–Ω—Ç</option>
                            <option value="seller">–ü—Ä–æ–¥–∞–≤–µ—Ü</option>
                            
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                </form>

                <div id="authMessage"></div>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div class="container hidden" id="mainContainer">
        <div class="dashboard">
            <!-- Sidebar -->
            <aside class="sidebar">
                <h3>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h3>
                <ul class="sidebar-menu">
                    <li><a href="#" class="active" onclick="showSection('dashboard')">üìä –û–±–∑–æ—Ä</a></li>
                    <li><a href="#" onclick="showSection('products')">üõí –¢–æ–≤–∞—Ä—ã</a></li>
                    <li><a href="#" onclick="showSection('purchases')">üì¶ –ú–æ–∏ –ø–æ–∫—É–ø–∫–∏</a></li>
                    <li><a href="#" onclick="showSection('sales')" id="salesMenu" style="display: none;">üí∞ –ú–æ–∏ –ø—Ä–æ–¥–∞–∂–∏</a></li>
                    <li><a href="#" onclick="showSection('profile')">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a></li>
                    <li><a href="#" onclick="showSection('admin')" id="adminMenu" style="display: none;">‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a></li>
                </ul>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Dashboard Section -->
                <section id="dashboardSection" class="section active">
                    <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <span id="dashboardUsername"></span>!</h2>
                    <div class="profile-card">
                        <h3>–í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                        <div class="profile-info">
                            <div class="info-item">
                                <span>–†–æ–ª—å:</span>
                                <span id="statRole"></span>
                            </div>
                            <div class="info-item">
                                <span>–í—Å–µ–≥–æ –ø–æ–∫—É–ø–æ–∫:</span>
                                <span id="statPurchases">0</span>
                            </div>
                            <div class="info-item">
                                <span>–í—Å–µ–≥–æ –ø—Ä–æ–¥–∞–∂:</span>
                                <span id="statSales">0</span>
                            </div>
                            <div class="info-item">
                                <span>–ë–∞–ª–∞–Ω—Å:</span>
                                <span id="statBalance">0 ‚ÇΩ</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Products Section -->
                <section id="productsSection" class="section">
                    <h2>–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤</h2>
                    <button class="btn btn-primary" id="addProductBtn" style="display: none;" onclick="showAddProductForm()">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
                    <div class="products-grid" id="productsGrid"></div>
                </section>

                <!-- Purchases Section -->
                <section id="purchasesSection" class="section">
                    <h2>–ò—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫</h2>
                    <div class="purchase-history" id="purchaseHistory"></div>
                </section>

                <!-- Profile Section -->
                <section id="profileSection" class="section">
                    <h2>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h2>
                    <div class="profile-card">
                        <h3>–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
                        <div class="profile-info">
                            <div class="info-item">
                                <span>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</span>
                                <span id="profileUsername"></span>
                            </div>
                            <div class="info-item">
                                <span>–ü–æ–ª–Ω–æ–µ –∏–º—è:</span>
                                <span id="profileFullName"></span>
                            </div>
                            <div class="info-item">
                                <span>–†–æ–ª—å:</span>
                                <span id="profileRole"></span>
                            </div>
                            <div class="info-item">
                                <span>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</span>
                                <span id="profileRegDate"></span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Admin Section -->
                <section id="adminSection" class="section">
                    <h2>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å</h2>
                    <div class="admin-stats">
                        <div class="stat-card">
                            <div class="stat-number" id="totalUsers">0</div>
                            <div>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="totalProducts">0</div>
                            <div>–¢–æ–≤–∞—Ä–æ–≤</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="totalPurchases">0</div>
                            <div>–ü–æ–∫—É–ø–æ–∫</div>
                        </div>
                    </div>

                    <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h3>
                    <table class="users-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</th>
                                <th>–ü–æ–ª–Ω–æ–µ –∏–º—è</th>
                                <th>–†–æ–ª—å</th>
                                <th>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="usersTable"></tbody>
                    </table>
                </section>
            </main>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>